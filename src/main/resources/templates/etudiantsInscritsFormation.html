<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Étudiants Inscrits dans une Formation</title>
    <link rel="stylesheet" href="../static/css/bootstrap.css" th:href="@{/css/bootstrap.css}"/>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            padding: 20px;
        }
        .container {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .table th {
            background-color: black;
            color: white;
        }
    </style>
    <style>
        /* Styles généraux */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background-color: #f4f4f4;
        }
        header {
            background-color: #2c3e50;
            padding: 10px 20px;
            color: white;
        }

        .navbar .nav {
            display: flex;
            list-style: none;
            margin: 0;
            padding: 0;
        }
        .navbar .nav li {
            margin-right: 15px;
        }
        .navbar .nav li a {
            color: white;
            text-decoration: none;
            padding: 5px 10px;
            transition: background-color 0.3s;
        }
        .navbar .nav li a:hover {
            background-color: #34495e;
            border-radius: 10px;
        }
        /* Pour forcer le bloc d'infos utilisateur à se placer à droite */
        .navbar .navbar-right {
            margin-left: auto;
            display: flex;
            align-items: center;
        }
        /* Dropdown pour le compte utilisateur */
        .dropdown {
            position: relative;
        }
        .dropdown-menu {
            display: none;
            position: absolute;
            right: 0;
            background-color: #34495e;
            min-width: 150px;
            list-style: none;
            padding: 10px 0;
            margin: 0;
            border-radius: 4px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        .dropdown-menu li a {
            display: block;
            padding: 8px 16px;
            color: white;
            text-decoration: none;
        }
        .dropdown-menu li a:hover {
            background-color: #2c3e50;
        }
        .dropdown:hover .dropdown-menu {
            display: block;
        }
         /* Styles pour l'en-tête universitaire */



    </style>
</head>
<body>

<header>
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-left">
                    <li>
                        <a th:src="@{/images/img.png}" ><span>Accueil</span></a>
                    </li>
                    <li>
                        <a th:href="@{/formations}"><span>Formation</span></a>
                    </li>
                    <li>
                        <a th:href="@{/Enseignants}"><span>Enseignant</span></a>
                    </li>
                    <li>
                        <a th:href="@{/etudiants}"><span>Etudiant</span></a>
                    </li>
                    <li>
                        <a th:href="@{/assignerResponsable}"><span>Assigner</span></a>
                    </li>
                    <li>
                        <a th:href="@{/liste}"><span>Inscription Formation</span></a>
                    </li>
                    <li>
                        <a th:href="@{/inscriptionModule}"><span>Inscription Module</span></a>
                    </li>
                    <li>
                        <a th:href="@{/deliberation}"><span>Délibération</span></a>
                    </li>
                    <li>
                        <a th:href="@{/releve/selectionner}"><span>Relevé</span></a>
                    </li>
                    <li>
                        <a th:href="@{/AffichageListes}"><span>Liste</span></a>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            <!-- Afficher le nom et prénom de l'administrateur connecté -->
                            <span th:text="${prenom + ' ' + nom}"></span><span class="caret"></span>
                        </a>
                        <ul class="dropdown-menu">
                            <li>
                                <a th:href="@{/profil}"><span>Profil</span></a>
                            </li>
                            <li><a th:href="@{/logout}"><i class="fa fa-sign-out"></i> Déconnexion</a></li>
                        </ul>
                    </li>
                </ul>
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>
</header>

<div class="container">
    <h1>Étudiants Inscrits par Formation</h1>

    <!-- Formulaire pour sélectionner une formation -->
    <form method="get" action="/etudiantsInscritsFormation">
        <label for="formationSelect">Sélectionner une formation :</label>
        <select id="formationSelect" name="formationId" class="form-control" onchange="this.form.submit()">
            <option value="">-- Choisir une formation --</option>
            <option th:each="formation : ${formations}"
                    th:value="${formation.id}"
                    th:text="${formation.intitule}"
                    th:selected="${selectedFormationId == formation.id}">
            </option>
        </select>
    </form>

    <!-- Affichage de la liste des étudiants si une formation est sélectionnée -->
    <div th:if="${etudiants != null}">
        <table class="table table-striped mt-4">
            <thead>
            <tr>
                <th>ID</th>
                <th>Nom</th>
                <th>Prénom</th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="etudiant : ${etudiants}">
                <td th:text="${etudiant.id}"></td>
                <td th:text="${etudiant.nom}"></td>
                <td th:text="${etudiant.prenom}"></td>
            </tr>
            <tr th:if="${etudiants.isEmpty()}">
                <td colspan="3" class="text-center">Aucun étudiant inscrit.</td>
            </tr>
            </tbody>
        </table>
    </div>

    <div>
        <a th:href="@{/Administrateur/Accueil}">Retour à l'accueil</a>
    </div>
</div>

</body>
</html>
